# CSharp 基本概念








---
## 5. 签名与重载

方法、实例构造函数、索引器和运算符由它们的签名来描述：
- 方法的签名由方法的名称、类型参数的数目以及其每个形参的类型和参数传递模式组成，按从左到右的顺序排列。方法的签名不包括返回类型、参数名称、类型参数名称、参数类型约束、`params` 或 `this` 参数修饰，也不包括参数是否为可选。
- 实例构造函数的签名由其参数类型和传递模式组成，并考虑排列顺序。
- 索引器的签名由形参的类型组成，并考虑排列顺序。
- 运算符的签名由运算符和形参的类型组成，并考虑排列顺序。
- 转换运算符的签名由源类型和目标类型组成，不包含 `implicit` 和 `explicit`。

签名是用于在类、结构和接口中重载成员的启用机制：重载的成员在其包含类型内的签名必须是唯一的。因此可以声明多个重载不同签名的同名方法、实例构造函数、索引器和运算符。对于签名，类型 `object` 和 `dynamic` 被认为是相同的。

尽管参数修饰符 `in`、`out`、`ref` 被认为是签名的一部分，但是在单个类型中声明的成员不能仅通过参数修饰符来区分签名，它们之间无法形成重载。

```csharp
interface ITest
{
    void F();                        // F()
    void F(int x);                   // F(int)
    void F(ref int x);               // F(ref int)
    void F(out int x);               // F(out int)      error
    void F(int x, int y);            // F(int, int)
    int F(string s);                 // F(string)
    int F(int x);                    // F(int)          error
    void F(string[] a);              // F(string[])
    void F(params string[] a);       // F(string[])     error
}
```

---
## 6. 自动内存管理









---
## 7. 执行顺序

C# 程序的执行过程中，每个执行线程的副作用在关键的执行点被保留。*副作用* 定义为对易失性字段的读写、对非易失性变量的写入、对外部资源的写入以及抛出异常。这些副作用的顺序应该被保留的关键执行点包含有对 `volatile` 字段的引用，`lock` 语句，以及线程的创建和终止。

执行环境可以自由地改变 C# 程序的执行顺序，但要受以下约束：
- 数据依赖关系保存在执行线程内。计算每个变量的值时，就好像线程中的所有语句都按照原始程序顺序执行一样。
- 初始化顺序规则保留（字段初始化和变量初始值设定项）。
- 对于 `volatile` 字段的读写，会保留副作用的顺序。如果执行环境可以推断出表达式的值没有被使用，并且没有产生必要的副作用（包括调用方法或访问 `volatile` 字段所引起的任何副作用），则不需要对该表达式的部分进行求值。当程序执行被异步事件中断时（例如另一个线程抛出的异常），不能保证可观察到的副作用在原始程序顺序中可见。

---